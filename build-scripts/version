# -*- mode:sh -*-

# This script determines the RELEASE & VERSION number uses when packaging
# CFEngine.
#
# The script expects the following repositories to exist side by side:
# .
# ├── buildscripts
# └── core
#
# Source this file, don`t execute it. Also source the functions script before
# the version script. E.g.:
#
#   . `dirname "$0"`/functions
#   . `dirname "$0"`/version


# The CFVERSION file is generated by the determine-version.sh script in the core
# repository. The script is executed when you run the autogen.sh.
VERSION=$(cat "$BASEDIR"/core/CFVERSION)
echo "$(basename $0): Debug: Detected CFEngine version number $VERSION"

# The RELEASE number is the actual release of the package. It starts as 1 and
# would incremented each time you create a new release of the CFEngine package
# of the same version.
RELEASE="${EXPLICIT_RELEASE:-1}"
export RELEASE
echo "$(basename $0): Debug: Detected CFEngine package release number $RELEASE"
